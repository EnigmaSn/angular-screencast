<mat-toolbar color="primary">
    <button mat-icon-button class="example-icon" 
      aria-label="Example icon-button with menu icon"
      (click)="clickMenu.emit()"
    >
      <mat-icon>menu</mat-icon>
    </button>
    <span>App</span>

    <!-- <div *appInsert="user; first sum last spinner";></div> -->

    <span class="example-spacer"></span>

    <!-- let-sum берется из implicit  -->
    <!-- <ng-template 
      appCarousel
      [appCarouselOf]="user.shopSum"
      let-back="back"
      let-next="next"
      let-sum
    >
      <div class="shop-container">
        <mat-icon class="chevron" (click)="back()">chevron_left</mat-icon>
        <p >
          {{ sum.value | currency : sum.format : 'symbol-narrow' : '1.0-0' }}
        </p>
        <mat-icon class="chevron" (click)="next()">chevron_right</mat-icon>
      </div>
    </ng-template> -->

    <!-- запись let back=back идентична записи back as back -->
    <ng-container *ngIf="(user$ | async) as user">
      <p>
        {{ user?.name }}
      </p>
      <div 
      class="shop-container" 
      *appCarousel="let sum of (user$ | async)?.shopSum; 
      back as back; 
      next as next;
      autoplay: false"
    >
      <mat-icon class="chevron" (click)="back()">chevron_left</mat-icon>
      <p >
        {{ sum.value | currency : sum.format : 'symbol-narrow' : '1.0-0' }}
      </p>
      <mat-icon class="chevron" (click)="next()">chevron_right</mat-icon>
    </div>
    </ng-container>
    

    <button mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
      <mat-icon>favorite</mat-icon>
    </button>
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon">
      <mat-icon>input</mat-icon>
    </button>
  </mat-toolbar>


  <ng-template #spinner>
  <mat-spinner color="accent" diameter="20"></mat-spinner>
</ng-template>
<!-- 
<ng-template #sum>
  {{ (user.sum | currency : user.format : 'symbol-narrow' : '1.0-0' ) }}
</ng-template> -->